"""
Secure Vault - Internationalization (I18n)
Provides translation support for Chinese and English.
"""

from src.core.config import get_config

# Translation dictionary
TRANSLATIONS = {
    'zh': {
        # App & Titles
        'app_name': 'Secure Vault',
        'pin_setup_title': 'Secure Vault - é…ç½® PIN ç ',
        'pin_verify_title': 'Secure Vault - éªŒè¯ PIN ç ',
        'setup_pin': 'è®¾ç½® PIN ç ',
        'subtitle_pin_protection': 'è¯·è®¾ç½®ä¸€ä¸ªå®‰å…¨çš„ PIN ç æ¥ä¿æŠ¤æ‚¨çš„æ•°æ®',
        'pin_label': 'PIN ç :',
        'confirm_pin_label': 'ç¡®è®¤ PIN ç :',
        'placeholder_enter_pin': 'è¾“å…¥ PIN ç  (è‡³å°‘ 4 ä½)',
        'placeholder_confirm_pin': 'å†æ¬¡è¾“å…¥ PIN ç ',
        'strength_label': 'å¼ºåº¦:',
        'btn_confirm': 'ç¡®è®¤',
        'btn_unlock': 'è§£é”',
        'subtitle_unlock': 'è¯·è¾“å…¥ PIN ç è§£é”',
        'btn_exit': 'é€€å‡º',
        'label_success': 'æˆåŠŸ',
        'label_error': 'é”™è¯¯',
        'label_unknown': 'æœªçŸ¥',
        'label_root': 'æ ¹ç›®å½•',
        'label_selected_item': 'é€‰ä¸­çš„é¡¹ç›®',
        
        # Errors & Validation
        'error_pin_min_length': 'PIN ç è‡³å°‘éœ€è¦ 4 ä½',
        'error_pin_mismatch': 'ä¸¤æ¬¡è¾“å…¥çš„ PIN ç ä¸ä¸€è‡´',
        'error_pin_required': 'è¯·è¾“å…¥ PIN ç ',
        'error_pin_invalid': 'PIN ç é”™è¯¯',
        
        # Tooltips
        'tooltip_switch_repo': 'åˆ‡æ¢ä»“åº“',
        'tooltip_change_pin': 'ä¿®æ”¹ PIN ç ',
        'tooltip_theme': 'åˆ‡æ¢æ·±è‰²/æµ…è‰²æ¨¡å¼',
        
        # Repository Management
        'repo_mgr_title': 'Secure Vault - ä»“åº“ç®¡ç†',
        'repo_mgr_main_title': 'é€‰æ‹©æˆ–åˆ›å»ºä»“åº“',
        'repo_mgr_subtitle': 'ä»“åº“ç”¨äºå­˜å‚¨åŠ å¯†çš„æ•°æ®å—ã€‚è¯·é€‰æ‹©ä¸€ä¸ªä»“åº“æˆ–åˆ›å»ºæ–°ä»“åº“ã€‚åŒå‡»åç§°å¯é‡å‘½åã€‚',
        'repo_col_name': 'åç§°',
        'repo_col_path': 'è·¯å¾„',
        'repo_col_used': 'å·²ç”¨å®¹é‡',
        'repo_col_limit': 'å®¹é‡é™åˆ¶',
        'btn_create_repo': 'â• åˆ›å»ºä»“åº“',
        'btn_import_repo': 'ğŸ“¥ å¯¼å…¥ä»“åº“',
        'btn_delete_repo': 'ğŸ—‘ï¸ åˆ é™¤ä»“åº“',
        'btn_enter_repo': 'è¿›å…¥ä»“åº“',
        'dialog_delete_repo_title': 'åˆ é™¤ä»“åº“',
        'dialog_delete_repo_msg': "ç¡®å®šè¦åˆ é™¤ä»“åº“ '{name}' å—ï¼Ÿ\n\nâš ï¸ æ­¤æ“ä½œå°†åˆ é™¤ï¼š\nâ€¢ ä»“åº“é…ç½®\nâ€¢ æ‰€æœ‰åŠ å¯†çš„æ–‡ä»¶å—\nâ€¢ ç›¸å…³çš„æ•°æ®åº“è®°å½•\n\næ­¤æ“ä½œæ— æ³•æ’¤é”€ï¼",
        'dialog_import_repo_title': 'é€‰æ‹©ä»“åº“é…ç½®æ–‡ä»¶',
        'dialog_import_repo_filter': 'é…ç½®æ–‡ä»¶ (config.json);;æ‰€æœ‰æ–‡ä»¶ (*)',
        'msg_import_success_renamed': 'ä»“åº“å·²å¯¼å…¥ã€‚ç”±äºåç§°é‡å¤ï¼Œå·²é‡å‘½åä¸ºï¼š\n\n{name}',
        'msg_import_success': "ä»“åº“ '{name}' å·²æˆåŠŸå¯¼å…¥ï¼",
        'msg_import_failed': 'å¯¼å…¥å¤±è´¥',
        'msg_import_error': 'å¯¼å…¥æ—¶å‘ç”Ÿé”™è¯¯ï¼š\n\n{error}',
        'dialog_rename_repo_title': 'é‡å‘½åä»“åº“',
        'dialog_rename_repo_msg': 'è¯·è¾“å…¥æ–°çš„ä»“åº“åç§°ï¼š',
        'msg_rename_failed': 'é‡å‘½åå¤±è´¥',
        'dialog_capacity_title': 'ä¿®æ”¹å®¹é‡é™åˆ¶',
        'dialog_capacity_msg': 'è¯·è¾“å…¥æ–°çš„å®¹é‡é™åˆ¶ (GB)ï¼š',
        'error_repo_not_found': 'ä»“åº“ä¸å­˜åœ¨',
        'error_repo_path_not_found': 'ä»“åº“è·¯å¾„å·²ä¸å­˜åœ¨ï¼š\n\n{path}\n\nä»“åº“å¯èƒ½å·²è¢«ç§»åŠ¨æˆ–åˆ é™¤ã€‚è¯·æ£€æŸ¥è·¯å¾„æˆ–åˆ é™¤æ­¤ä»“åº“è®°å½•ã€‚',
        'error_repo_connect': 'è¿æ¥åˆ°ä»“åº“æ—¶å‘ç”Ÿé”™è¯¯ï¼š\n\n{error}',
        'btn_browse': 'æµè§ˆ...',
        'btn_cancel': 'å–æ¶ˆ',
        'btn_create': 'åˆ›å»º',
        'placeholder_repo_name': 'ä¾‹å¦‚ï¼šå·¥ä½œä»“åº“',
        'placeholder_select_path': 'é€‰æ‹©å­˜å‚¨ä½ç½®',
        'disk_info': 'ç£ç›˜æ€»å®¹é‡: {total}',
        'error_repo_name_required': 'è¯·è¾“å…¥ä»“åº“åç§°',
        'error_repo_name_exists': 'æ­¤ä»“åº“åç§°å·²å­˜åœ¨',
        'error_repo_path_required': 'è¯·é€‰æ‹©å­˜å‚¨è·¯å¾„',
        'error_repo_path_exists': 'æ­¤è·¯å¾„å·²è¢«å…¶ä»–ä»“åº“ä½¿ç”¨',
        'error_capacity_too_small': 'å®¹é‡é™åˆ¶ ({size}) ä¸èƒ½è¶…è¿‡ç£ç›˜å¤§å° ({total})',
        
        # Main Window
        'nav_all_files': 'å…¨éƒ¨æ–‡ä»¶',
        'nav_favorites': 'æ”¶è—å¤¹',
        'nav_trash': 'å›æ”¶ç«™',
        'search_placeholder': 'æœç´¢æ–‡ä»¶...',
        'status_ready': 'å°±ç»ª',
        'status_encrypting': 'æ­£åœ¨åŠ å¯†...',
        'status_decrypting': 'æ­£åœ¨è§£å¯†...',
        'status_cancelling': 'æ­£åœ¨å–æ¶ˆ...',
        'status_cleaning': 'æ­£åœ¨æ¸…ç†æ•°æ®...',
        'msg_cleaning_orphans': 'æ¸…ç†äº† {size} MB çš„å­¤ç«‹æ•°æ®',
        'msg_files_loaded': 'æ–‡ä»¶åˆ—è¡¨å·²åŠ è½½',
        'info_used': 'å·²ç”¨: {used} / {total}',
        'dialog_task_in_progress_title': 'ä»»åŠ¡è¿›è¡Œä¸­',
        'dialog_task_in_progress_msg': 'æ­£åœ¨å¤„ç†ä»»åŠ¡ï¼Œè¯·ç¨åå†è¯•',
        'dialog_restart_warning_title': 'ä»»åŠ¡è¿›è¡Œä¸­',
        'dialog_restart_warning_msg': 'å½“å‰æœ‰ä»»åŠ¡æ­£åœ¨æ‰§è¡Œï¼Œæ›´æ”¹è®¾ç½®å°†å–æ¶ˆè¯¥ä»»åŠ¡å¹¶è¿›è¡Œæ¸…ç†ï¼Œç„¶åé‡å¯ç¨‹åºã€‚\n\nç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',
        'dialog_confirm_restart_title': 'ç¡®è®¤é‡å¯',
        'dialog_confirm_restart_msg': 'æ›´æ”¹éœ€è¦é‡å¯ç¨‹åºæ‰èƒ½ç”Ÿæ•ˆï¼Œæ˜¯å¦ç¡®å®šé‡å¯ï¼Ÿ',
        'dialog_repo_not_found_title': 'ä»“åº“ä¸å­˜åœ¨',
        'dialog_repo_not_found_msg': 'é€‰å®šçš„ä»“åº“å·²ä¸å­˜åœ¨ï¼Œç¨‹åºå°†é€€å‡ºã€‚',
        'dialog_repo_deleted_title': 'ä»“åº“å·²åˆ é™¤',
        'dialog_repo_deleted_msg': 'å½“å‰ä½¿ç”¨çš„ä»“åº“å·²è¢«åˆ é™¤ï¼Œç¨‹åºå°†é€€å‡ºã€‚è¯·é‡æ–°å¯åŠ¨å¹¶é€‰æ‹©æ–°ä»“åº“ã€‚',
        'dialog_task_busy_title': 'ä»»åŠ¡æ­£åœ¨è¿›è¡Œ',
        'dialog_task_busy_msg': "å½“å‰æ­£åœ¨æ‰§è¡Œã€Œ{name}ã€ä»»åŠ¡ï¼Œè¯·ç­‰å¾…å®Œæˆåå†æ‰§è¡Œå…¶ä»–æ“ä½œã€‚",
        'dialog_switch_blocked_msg': "å½“å‰æ­£åœ¨æ‰§è¡Œã€Œ{name}ã€ä»»åŠ¡ï¼Œè¯·ç­‰å¾…ä»»åŠ¡å®Œæˆåå†åˆ‡æ¢ä»“åº“ã€‚",
        'dialog_exit_warning_title': 'ä»»åŠ¡è¿›è¡Œä¸­',
        'dialog_exit_warning_msg': 'å½“å‰æœ‰ä»»åŠ¡æ­£åœ¨æ‰§è¡Œï¼Œå…³é—­ç¨‹åºå°†åœ¨ä¸‹ä¸€æ¬¡è‡ªåŠ¨å¯åŠ¨ã€‚\n\nç¡®å®šè¦é€€å‡ºå—ï¼Ÿ',
        'exit_confirm_title': 'é€€å‡º',
        'exit_confirm_msg': 'ç¡®å®šè¦é€€å‡º Secure Vault å—ï¼Ÿ',
        
        # Key Setup
        'key_setup_title': 'Secure Vault - é…ç½®å¯†é’¥',
        'key_setup_main_title': 'é…ç½®ä¸»å¯†é’¥',
        'key_setup_subtitle': 'é€‰æ‹©å¯†é’¥ç”Ÿæˆæ–¹å¼ã€‚ä¸»å¯†é’¥å°†ç”¨äºåŠ å¯†æ‰€æœ‰æ–‡ä»¶ã€‚',
        'radio_random_key': 'éšæœºç”Ÿæˆå¯†é’¥ (æ¨è)',
        'radio_manual_key': 'æ‰‹åŠ¨è¾“å…¥å¯†é’¥',
        'label_random_key': 'ç”Ÿæˆçš„å¯†é’¥ (è¯·å¦¥å–„ä¿å­˜):',
        'btn_regenerate': 'é‡æ–°ç”Ÿæˆ',
        'btn_copy_key': 'å¤åˆ¶å¯†é’¥',
        'label_manual_key': 'è¾“å…¥å¯†é’¥ (32 å­—èŠ‚ / 64 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦):',
        'placeholder_hex_64': 'è¾“å…¥ 64 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦',
        'label_backup_warning': 'âš ï¸ è¯·åŠ¡å¿…å¤‡ä»½æ‚¨çš„å¯†é’¥ï¼ä¸¢å¤±å¯†é’¥å°†æ— æ³•æ¢å¤æ•°æ®ã€‚',
        'msg_key_copied_title': 'å·²å¤åˆ¶',
        'msg_key_copied_msg': 'å¯†é’¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚è¯·å¦¥å–„ä¿å­˜ï¼',
        'error_hex_length': 'éœ€è¦ 64 ä¸ªå­—ç¬¦ï¼Œå½“å‰ {count} ä¸ª',
        'error_hex_invalid': 'è¯·è¾“å…¥æœ‰æ•ˆçš„åå…­è¿›åˆ¶å­—ç¬¦',
        'dialog_confirm_key_title': 'ç¡®è®¤å¯†é’¥',
        'dialog_confirm_key_msg': 'æ‚¨ç¡®å®šå·²ç»å®‰å…¨ä¿å­˜äº†å¯†é’¥å—ï¼Ÿ\n\nä¸¢å¤±å¯†é’¥å°†å¯¼è‡´æ‰€æœ‰æ•°æ®æ— æ³•æ¢å¤ï¼',
        
        # Context Menu & Actions
        'menu_new_folder': 'ğŸ“ æ–°å»ºæ–‡ä»¶å¤¹',
        'menu_rename': 'ğŸ“ é‡å‘½å',
        'menu_edit_comment': 'ğŸ’¬ ç¼–è¾‘æ³¨é‡Š',
        'menu_export_decrypted': 'ğŸ“¤ è§£å¯†å¯¼å‡º',
        'menu_delete': 'ğŸ—‘ï¸ åˆ é™¤é¡¹ç›®',
        'dialog_rename_title': 'é‡å‘½å',
        'dialog_rename_msg': 'è¾“å…¥æ–°åç§°:',
        'dialog_rename_duplicate': "æ–‡ä»¶ '{name}' å·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–åç§°ã€‚",
        'dialog_edit_comment_title': 'ç¼–è¾‘æ³¨é‡Š',
        'dialog_edit_comment_msg': 'è¾“å…¥æ³¨é‡Š:',
        'dialog_delete_confirm_title': 'ç¡®è®¤åˆ é™¤',
        'dialog_delete_confirm_msg_single': "ç¡®å®šè¦åˆ é™¤ '{name}' å—ï¼Ÿ",
        'dialog_delete_confirm_msg_multiple': 'ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ {count} ä¸ªé¡¹ç›®å—ï¼Ÿ',
        'dialog_delete_confirm_suffix': '\n\næ­¤æ“ä½œä¸å¯æ¢å¤ï¼',
        'dialog_export_title': 'é€‰æ‹©å¯¼å‡ºç›®å½•',
        'dialog_new_folder_title': 'æ–°å»ºæ–‡ä»¶å¤¹',
        'dialog_new_folder_msg': 'æ–‡ä»¶å¤¹åç§°:',
        'placeholder_new_folder': 'æ–°å»ºæ–‡ä»¶å¤¹',
        'dialog_name_clash_title': 'åç§°å†²çª',
        'dialog_name_clash_msg': "æ–‡ä»¶å¤¹ '{name}' å·²å­˜åœ¨ã€‚",
        'dialog_move_conflict_title': 'åç§°å†²çª',
        'dialog_move_conflict_msg': "ç›®æ ‡ç›®å½•å·²å­˜åœ¨ '{name}'ã€‚\n\næ˜¯å¦é‡å‘½åä¸º '{new_name}' å¹¶ç§»åŠ¨ï¼Ÿ",
        'log_clear': 'æ¸…é™¤æ—¥å¿—',
        'msg_finished': 'å®Œæˆ',
        'msg_cancelled': 'å·²å–æ¶ˆ',
        'msg_cleanup_finished': 'æ¸…ç†å®Œæˆ',
        'error_cleanup_failed': 'æ¸…ç†å¤±è´¥',
        'msg_items_count': '{count} ä¸ªé¡¹ç›®',
        'msg_exported_count': 'å·²å¯¼å‡º {count} ä¸ªé¡¹ç›®',
        'msg_imported_count': 'å·²å¯¼å…¥ {count} ä¸ªé¡¹ç›®',
        'msg_deleted_count': 'æˆåŠŸåˆ é™¤ {count} ä¸ªé¡¹ç›®',
        'dialog_export_failed_title': 'å¯¼å‡ºå¤±è´¥',
        'dialog_export_failed_msg': "æ— æ³•å¯¼å‡º '{name}'ï¼š\néƒ¨åˆ†æ•°æ®å—ä¸¢å¤±ã€‚\n\nä¸¢å¤±çš„å—ï¼š\n",
        'dialog_export_conflict_title': 'æ–‡ä»¶å·²å­˜åœ¨',
        'dialog_export_conflict_file_msg': "ç›®æ ‡ç›®å½•å·²å­˜åœ¨æ–‡ä»¶ '{name}'ã€‚\n\næ˜¯å¦è¦†ç›–ï¼Ÿ",
        'dialog_export_conflict_dir_msg': "ç›®æ ‡ç›®å½•å·²å­˜åœ¨æ–‡ä»¶å¤¹ '{name}'ã€‚\n\næ˜¯å¦è¦†ç›–ï¼Ÿï¼ˆé€‰å¦å°†è·³è¿‡è¯¥æ–‡ä»¶å¤¹åŠå…¶æ‰€æœ‰å†…å®¹ï¼‰",
        'error_export_generic': 'å¯¼å‡ºæ—¶é‡åˆ°é”™è¯¯: {error}',
        'error_create_folder_failed': 'åˆ›å»ºæ–‡ä»¶å¤¹å¤±è´¥: {error}',
        'log_item_finished': '{action} å®Œæˆ: {item}',
        
        # PIN Change
        'pin_change_title': 'ä¿®æ”¹ PIN ç ',
        'label_current_pin': 'å½“å‰ PIN ç :',
        'label_new_pin': 'æ–° PIN ç :',
        'label_confirm_new_pin': 'ç¡®è®¤æ–° PIN ç :',
        'placeholder_current_pin': 'è¾“å…¥å½“å‰ PIN ç ',
        'placeholder_new_pin': 'è¾“å…¥æ–° PIN ç  (è‡³å°‘ 4 ä½)',
        'placeholder_confirm_new_pin': 'å†æ¬¡è¾“å…¥æ–° PIN ç ',
        'btn_change': 'ä¿®æ”¹',
        'error_current_pin_required': 'è¯·è¾“å…¥å½“å‰ PIN ç ',
        'error_new_pin_min_length': 'æ–° PIN ç è‡³å°‘éœ€è¦ 4 ä½',
        'error_new_pin_mismatch': 'ä¸¤æ¬¡è¾“å…¥çš„æ–° PIN ç ä¸ä¸€è‡´',
        'error_new_pin_same_as_current': 'æ–° PIN ç ä¸èƒ½ä¸å½“å‰ PIN ç ç›¸åŒ',
        'msg_pin_change_success': 'PIN ç å·²æˆåŠŸä¿®æ”¹ï¼',
        
        # File Tree Columns
        'tree_col_name': 'åç§°',
        'tree_col_date': 'ä¸Šä¼ æ—¥æœŸ',
        'tree_col_size': 'å¤§å°',
        'tree_col_items': 'é¡¹ç›®æ•°',
        'tree_col_comment': 'æ³¨é‡Š',
        'label_encrypt_error': '<åŠ å¯†é”™è¯¯>',
        
        # Operations & Logging
        'log_found_pending': 'å‘ç°æœªå®Œæˆçš„ä»»åŠ¡ (ID: {id}, ç±»å‹: {type}, Status: {status})',
        'log_resuming_task': 'æ­£åœ¨æ¢å¤ä»»åŠ¡: {type}',
        'log_resume_cleanup': 'æ­£åœ¨æ¢å¤å–æ¶ˆæ¸…ç†: {type}',
        'log_resume_failed_missing': 'æ— æ³•æ¢å¤å¯¼å…¥: æºæ–‡ä»¶å·²ä¸¢å¤± - {path}...',
        'log_resume_failed_vault': 'æ— æ³•æ¢å¤å¯¼å…¥: ä»“åº“åŠ å¯†å­˜å‚¨è·¯å¾„ä¸å­˜åœ¨',
        'log_resume_success': 'éªŒè¯é€šè¿‡ï¼Œæ­£åœ¨æ¢å¤ {type} ä»»åŠ¡: {id}',
        'log_resume_failed_export_missing': 'æ— æ³•æ¢å¤å¯¼å‡º: ç›®æ ‡è·¯å¾„å·²ä¸¢å¤± - {path}',
        'log_resume_failed_export_parent': 'æ— æ³•æ¢å¤å¯¼å‡º: ç›®æ ‡çˆ¶ç›®å½•å·²åˆ é™¤ - {path}',
        'log_resume_failed_blocks': 'æ— æ³•æ¢å¤å¯¼å‡º: ä»“åº“æ–‡ä»¶æ•°æ®å—ä¸¢å¤± - {name}',
        'log_resume_failed_no_files': 'æ— æ³•æ¢å¤å¯¼å‡º: æ‰¾ä¸åˆ°ä»»ä½•å¾…å¯¼å‡ºçš„è™šæ‹Ÿæ–‡ä»¶',
        'log_task_failed': 'æ¢å¤ {type} ä»»åŠ¡å¤±è´¥: {error}',
        'log_startup': 'å¯åŠ¨',
        'log_repo_info': 'ä»“åº“: {name}',
        'log_force_cleanup': 'æ‰§è¡Œå»¶è¿Ÿæ¸…ç†: {id}',
        'log_theme_switch': 'ä¸»é¢˜åˆ‡æ¢',
        'log_prepare_restart': 'å‡†å¤‡é‡å¯å¹¶åˆ‡æ¢åˆ° {mode} æ¨¡å¼',
        'log_system': 'ç³»ç»Ÿ',
        'log_restart_app': 'ç¨‹åºæ­£åœ¨é‡å¯ä»¥åº”ç”¨ä¸»é¢˜æ›´æ”¹',
        'log_security': 'å®‰å…¨',
        'log_pin_changed': 'PIN ç å·²ä¿®æ”¹',
        'log_switch_repo': 'åˆ‡æ¢ä»“åº“',
        'log_switch_to': 'åˆ‡æ¢åˆ°: {name}',
        'log_repo_not_found_exit': 'ä»“åº“ä¸å­˜åœ¨ï¼Œç¨‹åºé€€å‡º',
        'log_repo_deleted_exit': 'å½“å‰ä»“åº“å·²åˆ é™¤ï¼Œç¨‹åºé€€å‡º',
        'log_move': 'ç§»åŠ¨',
        'log_file_id': 'æ–‡ä»¶ ID {id}',
        'log_rename_to': 'æ–‡ä»¶é‡å‘½åä¸º: {name}',
        'log_rename_arrow': '-> {name}',
        'log_delete': 'åˆ é™¤',
        'log_new_folder': 'æ–°å»ºæ–‡ä»¶å¤¹',
        'log_new_folder_at': '{name} (åœ¨ {parent})',
        'log_rename': 'é‡å‘½å',
        'log_comment_update': 'æ³¨é‡Šæ›´æ–°',
        'log_comment_for': '{name} (ID {id})',
        'log_export': 'å¯¼å‡º',
        'log_export_target': 'ç›®æ ‡: {path}',
        'log_cancelled_by_user': 'æ“ä½œå·²è¢«ç”¨æˆ·å–æ¶ˆ',
        'log_cancelled_rolled_back': 'æ“ä½œå·²å–æ¶ˆå¹¶å›æ»š',
        'log_pause_on_exit': 'ç¨‹åºå…³é—­ï¼Œä»»åŠ¡å·²æš‚åœï¼Œä¸‹æ¬¡å¯åŠ¨å°†è‡ªåŠ¨æ¢å¤',
        'log_cleanup_recorded': 'æ¸…ç†å·²è®°å½•ï¼Œæ­£åœ¨æ‰§è¡Œæ¸…ç©ºæ“ä½œ...',
        'log_cleanup_finished': 'æ¸…ç†å®Œæˆï¼Œæ“ä½œè®°å½•å·²åˆ é™¤',
        'log_exit': 'é€€å‡º',
        'log_app_closed': 'åº”ç”¨ç¨‹åºå…³é—­',
        'error_restart_failed': 'æ— æ³•å¯åŠ¨æ–°å®ä¾‹: {error}',
        'type_import': 'å¯¼å…¥',
        'type_export': 'å¯¼å‡º',
        'mode_dark': 'æ·±è‰²',
        'mode_light': 'æµ…è‰²',
        'label_encrypt_import': 'åŠ å¯†å¯¼å…¥',
        'label_decrypt_export': 'è§£å¯†å¯¼å‡º',
        'label_delete': 'åˆ é™¤',
        'label_rename': 'é‡å‘½å',
        'label_comment': 'ç¼–è¾‘æ³¨é‡Š',
        
        # Time Estimates
        'eta_soon': 'å³å°†å®Œæˆ',
        'eta_seconds': 'å‰©ä½™ {seconds}s',
        'eta_minutes': 'å‰©ä½™ {m}m {s}s',
        'eta_hours': 'å‰©ä½™ {h}h {m}m',
        
        # Errors (Logic level)
        'error_disk_full': 'ç›®æ ‡ç£ç›˜ç©ºé—´ä¸è¶³ (éœ€è¦ {size})',
        'error_key_mismatch': 'æ— æ³•å¯¼å…¥ï¼šæ­¤ä»“åº“çš„ä¸»å¯†é’¥ä¸å½“å‰ç™»å½•çš„ä¸»å¯†é’¥ä¸åŒ¹é…ã€‚',
        'error_no_key_hash': 'æ— æ³•å¯¼å…¥ï¼šæ­¤ä»“åº“é…ç½®ç¼ºå°‘å¯†é’¥éªŒè¯ä¿¡æ¯ã€‚',
        'error_path_exists': 'æ­¤ä»“åº“è·¯å¾„å·²å­˜åœ¨',
        'error_repo_corrupt': 'ä»“åº“æ•°æ®ä¸å­˜åœ¨æˆ–å·²æŸå',
        'error_name_empty': 'åç§°ä¸èƒ½ä¸ºç©º',
        'error_name_used': 'æ­¤åç§°å·²è¢«ä½¿ç”¨',
        
        # Logger & Task Status
        'status_start': 'å¼€å§‹',
        'status_finish': 'å®Œæˆ',
        'status_failed': 'å¤±è´¥',
        
        # Exit Confirmation
        'exit_dialog_title': 'é€€å‡ºç¡®è®¤',
        'exit_dialog_msg': 'å½“å‰æœ‰æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ï¼Œé€€å‡ºå°†æš‚åœä»»åŠ¡å¹¶å¯åœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤ã€‚æ˜¯å¦é€€å‡ºï¼Ÿ',
    },
    'en': {
        # App & Titles
        'app_name': 'Secure Vault',
        'pin_setup_title': 'Secure Vault - Configure PIN',
        'pin_verify_title': 'Secure Vault - Verify PIN',
        'setup_pin': 'Set PIN',
        'subtitle_pin_protection': 'Set a secure PIN to protect your data',
        'pin_label': 'PIN:',
        'confirm_pin_label': 'Confirm PIN:',
        'placeholder_enter_pin': 'Enter PIN (at least 4 digits)',
        'placeholder_confirm_pin': 'Re-enter PIN',
        'strength_label': 'Strength:',
        'btn_confirm': 'Confirm',
        'btn_unlock': 'Unlock',
        'subtitle_unlock': 'Please enter PIN to unlock',
        'btn_exit': 'Exit',
        'label_success': 'Success',
        'label_error': 'Error',
        'label_unknown': 'Unknown',
        'label_root': 'Root',
        'label_selected_item': 'Selected item',
        
        # Errors & Validation
        'error_pin_min_length': 'PIN must be at least 4 digits',
        'error_pin_mismatch': 'PINs do not match',
        'error_pin_required': 'PIN is required',
        'error_pin_invalid': 'Incorrect PIN',
        
        # Tooltips
        'tooltip_switch_repo': 'Switch Repository',
        'tooltip_change_pin': 'Change PIN',
        'tooltip_theme': 'Toggle Dark/Light Mode',
        
        # Repository Management
        'repo_mgr_title': 'Secure Vault - Repository Management',
        'repo_mgr_main_title': 'Select or Create Repository',
        'repo_mgr_subtitle': 'Repositories store encrypted data blocks. Select or create one. Double-click name to rename.',
        'repo_col_name': 'Name',
        'repo_col_path': 'Path',
        'repo_col_used': 'Used',
        'repo_col_limit': 'Limit',
        'btn_create_repo': 'â• Create Repo',
        'btn_import_repo': 'ğŸ“¥ Import Repo',
        'btn_delete_repo': 'ğŸ—‘ï¸ Delete Repo',
        'btn_enter_repo': 'Enter Repo',
        'dialog_delete_repo_title': 'Delete Repository',
        'dialog_delete_repo_msg': "Are you sure you want to delete repository '{name}'?\n\nâš ï¸ This will delete:\nâ€¢ Repository config\nâ€¢ All encrypted blocks\nâ€¢ Database records\n\nThis cannot be undone!",
        'dialog_import_repo_title': 'Select Repository Config',
        'dialog_import_repo_filter': 'Config Files (config.json);;All Files (*)',
        'msg_import_success_renamed': 'Repo imported and renamed due to conflict:\n\n{name}',
        'msg_import_success': "Repository '{name}' imported successfully!",
        'msg_import_failed': 'Import Failed',
        'msg_import_error': 'Error during import:\n\n{error}',
        'dialog_rename_repo_title': 'Rename Repository',
        'dialog_rename_repo_msg': 'Enter new repository name:',
        'msg_rename_failed': 'Rename Failed',
        'dialog_capacity_title': 'Modify Capacity Limit',
        'dialog_capacity_msg': 'Enter new limit (GB):',
        'error_repo_not_found': 'Repository not found',
        'error_repo_path_not_found': 'Repository path no longer exists:\n\n{path}\n\nIt may have been moved or deleted. Check the path or remove the record.',
        'error_repo_connect': 'Error connecting to repository:\n\n{error}',
        'btn_browse': 'Browse...',
        'btn_cancel': 'Cancel',
        'btn_create': 'Create',
        'placeholder_repo_name': 'e.g., Work Repo',
        'placeholder_select_path': 'Select storage path',
        'disk_info': 'Total Disk Capacity: {total}',
        'error_repo_name_required': 'Please enter repository name',
        'error_repo_name_exists': 'This repository name already exists',
        'error_repo_path_required': 'Please select storage path',
        'error_repo_path_exists': 'This path is already used by another repository',
        'error_capacity_too_small': 'Capacity limit ({size}) cannot exceed disk size ({total})',

        # Main Window
        'nav_all_files': 'All Files',
        'nav_favorites': 'Favorites',
        'nav_trash': 'Trash',
        'search_placeholder': 'Search files...',
        'status_ready': 'Ready',
        'status_encrypting': 'Encrypting...',
        'status_decrypting': 'Decrypting...',
        'status_cancelling': 'Cancelling...',
        'status_cleaning': 'Cleaning up...',
        'msg_cleaning_orphans': 'Cleaned {size:.2f} MB of orphaned data',
        'msg_files_loaded': 'File list loaded',
        'info_used': 'Used: {used} / {total}',
        'dialog_task_in_progress_title': 'Task in Progress',
        'dialog_task_in_progress_msg': 'Task is running, please try again later',
        'dialog_restart_warning_title': 'Task in Progress',
        'dialog_restart_warning_msg': 'A task is currently running. Changing settings will cancel the task, perform cleanup, and restart the application.\n\nAre you sure you want to continue?',
        'dialog_confirm_restart_title': 'Confirm Restart',
        'dialog_confirm_restart_msg': 'Changes require a restart to take effect. Restart now?',
        'dialog_repo_not_found_title': 'Repository Not Found',
        'dialog_repo_not_found_msg': 'Selected repository no longer exists, program will exit.',
        'dialog_repo_deleted_title': 'Repository Deleted',
        'dialog_repo_deleted_msg': 'The current repository has been deleted. The program will exit. Please restart and select a new repository.',
        'dialog_task_busy_title': 'Task in Progress',
        'dialog_task_busy_msg': "Currently executing '{name}' task, please wait for completion before other operations.",
        'dialog_switch_blocked_msg': "Currently executing '{name}' task. Please wait for task completion before switching repository.",
        'dialog_exit_warning_title': 'Task in Progress',
        'dialog_exit_warning_msg': 'A task is currently running. Closing the program will allow it to resume next time.\n\nAre you sure you want to exit?',
        'exit_confirm_title': 'Exit',
        'exit_confirm_msg': 'Are you sure you want to exit Secure Vault?',

        # Key Setup
        'key_setup_title': 'Secure Vault - Configure Key',
        'key_setup_main_title': 'Configure Master Key',
        'key_setup_subtitle': 'Select key generation method. Master key will be used to encrypt all files.',
        'radio_random_key': 'Randomly generate key (recommended)',
        'radio_manual_key': 'Manually enter key',
        'label_random_key': 'Generated key (please save securely):',
        'btn_regenerate': 'Regenerate',
        'btn_copy_key': 'Copy Key',
        'label_manual_key': 'Enter key (32 bytes / 64 hex characters):',
        'placeholder_hex_64': 'Enter 64 hex characters',
        'label_backup_warning': 'âš ï¸ Please backup your key! Data cannot be recovered without it.',
        'msg_key_copied_title': 'Copied',
        'msg_key_copied_msg': 'Key copied to clipboard. Please save it securely!',
        'error_hex_length': 'Requires 64 characters, currently {count}',
        'error_hex_invalid': 'Please enter valid hex characters',
        'dialog_confirm_key_title': 'Confirm Key',
        'dialog_confirm_key_msg': 'Are you sure you have securely saved your key?\n\nLosing your key will result in all data being unrecoverable!',
        
        # Context Menu & Actions
        'menu_new_folder': 'ğŸ“ New Folder',
        'menu_rename': 'ğŸ“ Rename',
        'menu_edit_comment': 'ğŸ’¬ Edit Comment',
        'menu_export_decrypted': 'ğŸ“¤ Export Decrypted',
        'menu_delete': 'ğŸ—‘ï¸ Delete Item',
        'dialog_rename_title': 'Rename',
        'dialog_rename_msg': 'Enter new name:',
        'dialog_rename_duplicate': "A file named '{name}' already exists. Please choose a different name.",
        'dialog_edit_comment_title': 'Edit Comment',
        'dialog_edit_comment_msg': 'Enter comment:',
        'dialog_delete_confirm_title': 'Confirm Delete',
        'dialog_delete_confirm_msg_single': "Are you sure you want to delete '{name}'?",
        'dialog_delete_confirm_msg_multiple': 'Are you sure you want to delete the selected {count} items?',
        'dialog_delete_confirm_suffix': '\n\nThis action cannot be undone!',
        'dialog_export_title': 'Select Export Directory',
        'dialog_new_folder_title': 'New Folder',
        'dialog_new_folder_msg': 'Folder Name:',
        'placeholder_new_folder': 'New Folder',
        'dialog_name_clash_title': 'Name Conflict',
        'dialog_name_clash_msg': "Folder '{name}' already exists.",
        'dialog_move_conflict_title': 'Name Conflict',
        'dialog_move_conflict_msg': "'{name}' already exists in target directory.\n\nRename to '{new_name}' and move?",
        'log_clear': 'Clear Logs',
        'msg_finished': 'Finished',
        'msg_cancelled': 'Cancelled',
        'msg_cleanup_finished': 'Cleanup finished',
        'error_cleanup_failed': 'Cleanup failed',
        'msg_items_count': '{count} items',
        'msg_exported_count': 'Exported {count} items',
        'msg_imported_count': 'Imported {count} items',
        'msg_deleted_count': 'Successfully deleted {count} items',
        'dialog_export_failed_title': 'Export Failed',
        'dialog_export_failed_msg': "Cannot export '{name}':\nSome data blocks are missing.\n\nMissing blocks:\n",
        'dialog_export_conflict_title': 'File Exists',
        'dialog_export_conflict_file_msg': "File '{name}' already exists in target directory.\n\nOverwrite?",
        'dialog_export_conflict_dir_msg': "Folder '{name}' already exists in target directory.\n\nOverwrite? (Choosing No will skip this folder and all its contents)",
        'error_export_generic': 'Error during export: {error}',
        'error_create_folder_failed': 'Failed to create folder: {error}',
        'log_item_finished': '{action} finished: {item}',
        
        # PIN Change
        'pin_change_title': 'Change PIN',
        'label_current_pin': 'Current PIN:',
        'label_new_pin': 'New PIN:',
        'label_confirm_new_pin': 'Confirm New PIN:',
        'placeholder_current_pin': 'Enter current PIN',
        'placeholder_new_pin': 'Enter new PIN (at least 4 digits)',
        'placeholder_confirm_new_pin': 'Re-enter new PIN',
        'btn_change': 'Change',
        'error_current_pin_required': 'Current PIN is required',
        'error_new_pin_min_length': 'New PIN must be at least 4 digits',
        'error_new_pin_mismatch': 'New PINs do not match',
        'error_new_pin_same_as_current': 'New PIN cannot be the same as current',
        'msg_pin_change_success': 'PIN changed successfully!',
        
        # File Tree Columns
        'tree_col_name': 'Name',
        'tree_col_date': 'Upload Date',
        'tree_col_size': 'Size',
        'tree_col_items': 'Items',
        'tree_col_comment': 'Comment',
        'label_encrypt_error': '<Encryption Error>',
        
        # Operations & Logging
        'log_found_pending': 'Found pending task (ID: {id}, Type: {type}, Status: {status})',
        'log_resuming_task': 'Resuming task: {type}',
        'log_resume_cleanup': 'Resuming cancellation cleanup: {type}',
        'log_resume_failed_missing': 'Cannot resume import: Source files missing - {path}...',
        'log_resume_failed_vault': 'Cannot resume import: Vault path does not exist',
        'log_resume_success': 'Validation passed, resuming {type} task: {id}',
        'log_resume_failed_export_missing': 'Cannot resume export: Target path missing - {path}',
        'log_resume_failed_export_parent': 'Cannot resume export: Target parent directory deleted - {path}',
        'log_resume_failed_blocks': 'Cannot resume export: Vault data blocks missing - {name}',
        'log_resume_failed_no_files': 'Cannot resume export: No virtual files found to export',
        'log_task_failed': 'Resume {type} task failed: {error}',
        'log_startup': 'Startup',
        'log_repo_info': 'Repository: {name}',
        'log_force_cleanup': 'Delayed cleanup: {id}',
        'log_theme_switch': 'Theme Switch',
        'log_prepare_restart': 'Preparing to restart and switch to {mode} mode',
        'log_system': 'System',
        'log_restart_app': 'Program is restarting to apply theme changes',
        'log_security': 'Security',
        'log_pin_changed': 'PIN changed',
        'log_switch_repo': 'Switch Repository',
        'log_switch_to': 'Switched to: {name}',
        'log_repo_not_found_exit': 'Repository does not exist, program exiting',
        'log_repo_deleted_exit': 'Current repository deleted, program exiting',
        'log_move': 'Move',
        'log_file_id': 'File ID {id}',
        'log_rename_to': 'File renamed to: {name}',
        'log_rename_arrow': '-> {name}',
        'log_delete': 'Delete',
        'log_new_folder': 'New Folder',
        'log_new_folder_at': '{name} (in {parent})',
        'log_rename': 'Rename',
        'log_comment_update': 'Comment Update',
        'log_comment_for': '{name} (ID {id})',
        'log_export': 'Export',
        'log_export_target': 'Target: {path}',
        'log_cancelled_by_user': 'Operation cancelled by user',
        'log_cancelled_rolled_back': 'Operation cancelled and rolled back',
        'log_pause_on_exit': 'Program closing, task paused, will resume on next startup',
        'log_cleanup_recorded': 'Cleanup recorded, performing clear operation...',
        'log_cleanup_finished': 'Cleanup finished, operation record deleted',
        'log_exit': 'Exit',
        'log_app_closed': 'Application closed',
        'error_restart_failed': 'Cannot start new instance: {error}',
        'type_import': 'Import',
        'type_export': 'Export',
        'mode_dark': 'Dark',
        'mode_light': 'Light',
        'label_encrypt_import': 'Encrypt Import',
        'label_decrypt_export': 'Decrypt Export',
        'label_delete': 'Delete',
        'label_rename': 'Rename',
        'label_comment': 'Edit Comment',
        
        # Time Estimates
        'eta_soon': 'Completing soon',
        'eta_seconds': '{seconds}s left',
        'eta_minutes': '{m}m {s}s left',
        'eta_hours': '{h}h {m}m left',
        
        # Errors (Logic level)
        'error_disk_full': 'Insufficient disk space (needs {size})',
        'error_key_mismatch': 'Import failed: Master key mismatch.',
        'error_no_key_hash': 'Import failed: Repository config missing key verification.',
        'error_path_exists': 'Repository path already exists',
        'error_repo_corrupt': 'Repository data missing or corrupt',
        'error_name_empty': 'Name cannot be empty',
        'error_name_used': 'Name already used',
        
        # Logger & Task Status
        'status_start': 'Start',
        'status_finish': 'Finish',
        'status_failed': 'Failed',
        
        # Exit Confirmation
        'exit_dialog_title': 'Exit Confirmation',
        'exit_dialog_msg': 'A task is currently running. Exiting will pause it and it can automatically resume next time. Exit?',
    }
}

def _(key, **kwargs):
    """
    Translate a key into the current language.
    Supports pluralization/interpolation via kwargs.
    """
    config = get_config()
    lang = config.language
    
    # Fallback to English if key doesn't exist in desired language
    translated = TRANSLATIONS.get(lang, TRANSLATIONS['zh']).get(key, key)
    
    # If key not found in the current language, try English
    if translated == key and lang != 'en':
        translated = TRANSLATIONS['en'].get(key, key)
        
    # If still not found and not Chinese, try Chinese
    if translated == key and lang != 'zh':
        translated = TRANSLATIONS['zh'].get(key, key)
        
    # Apply interpolation
    if kwargs:
        try:
            return translated.format(**kwargs)
        except (KeyError, ValueError):
            return translated
            
    return translated
